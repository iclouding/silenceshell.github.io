---
layout: post
title: "HBase分布式部署（三）"
date: 2016-04-06 09:21:00
author: 伊布
categories: tech
tags: hbase
cover:  "/assets/instacode.png"
---

HBASE全分布式部署，使用外置ZK。全分布式部署，要求底层存储必须使用HDFS，不能像standalone那样使用本地文件。

### 安装HDFS

HDFS/YARN等都打在hadoop一个包中，不是单独的一个包。我这里只是部署了一个简单的HDFS集群，没有考虑name node的HA问题。我用的是HADOOP 2.6.3。

部署基本参考了 [这篇文章](http://www.alexjf.net/blog/distributed-systems/hadoop-yarn-installation-definitive-guide/#single-node-test)

简单来说，现在spark1（就是我的AG）上修改这2个文件：

hdfs-site.xml：

```
<configuration>
    <property>
        <name>dfs.datanode.data.dir</name>
        <value>file:///home/dtdream/hadoop/hadoop-2.6.3/hdfs/datanode</value>
        <description>for datanode.</description>
    </property>

    <property>
        <name>dfs.namenode.name.dir</name>
        <value>file:///home/dtdream/hadoop/hadoop-2.6.3/hdfs/namenode</value>
        <description>for namenode.</description>
    </property>
</configuration>

```

